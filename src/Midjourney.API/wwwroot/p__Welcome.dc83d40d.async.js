"use strict";(self.webpackChunkmidjourney_proxy_admin=self.webpackChunkmidjourney_proxy_admin||[]).push([[185],{16755:function(A,h,r){r.r(h),r.d(h,{default:function(){return me}});var j=r(5574),D=r.n(j),z=r(66927),P=r(90930),F=r(94272),I=r(9361),k=r(40056),$=r(4393),R=r(71230),M=r(15746),m=r(67294),B=r(57838),H=r(96159),W=r(93967),L=r.n(W),U=r(64217),Q=r(53124),V=r(48054),X=n=>{const{value:t,formatter:s,precision:e,decimalSeparator:o,groupSeparator:f="",prefixCls:d}=n;let a;if(typeof s=="function")a=s(t);else{const l=String(t),u=l.match(/^(-?)(\d*)(\.(\d+))?$/);if(!u||l==="-")a=l;else{const g=u[1];let p=u[2]||"0",c=u[4]||"";p=p.replace(/\B(?=(\d{3})+(?!\d))/g,f),typeof e=="number"&&(c=c.padEnd(e,"0").slice(0,e>0?e:0)),c&&(c=`${o}${c}`),a=[m.createElement("span",{key:"int",className:`${d}-content-value-int`},g,p),c&&m.createElement("span",{key:"decimal",className:`${d}-content-value-decimal`},c)]}}return m.createElement("span",{className:`${d}-content-value`},a)},K=r(14747),Y=r(83559),G=r(83262);const J=n=>{const{componentCls:t,marginXXS:s,padding:e,colorTextDescription:o,titleFontSize:f,colorTextHeading:d,contentFontSize:a,fontFamily:l}=n;return{[t]:Object.assign(Object.assign({},(0,K.Wf)(n)),{[`${t}-title`]:{marginBottom:s,color:o,fontSize:f},[`${t}-skeleton`]:{paddingTop:e},[`${t}-content`]:{color:d,fontSize:a,fontFamily:l,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:s},[`${t}-content-suffix`]:{marginInlineStart:s}}})}},q=n=>{const{fontSizeHeading3:t,fontSize:s}=n;return{titleFontSize:s,contentFontSize:t}};var _=(0,Y.I$)("Statistic",n=>{const t=(0,G.IX)(n,{});return[J(t)]},q),ee=function(n,t){var s={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.indexOf(e)<0&&(s[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,e=Object.getOwnPropertySymbols(n);o<e.length;o++)t.indexOf(e[o])<0&&Object.prototype.propertyIsEnumerable.call(n,e[o])&&(s[e[o]]=n[e[o]]);return s},C=n=>{const{prefixCls:t,className:s,rootClassName:e,style:o,valueStyle:f,value:d=0,title:a,valueRender:l,prefix:u,suffix:g,loading:p=!1,formatter:c,precision:x,decimalSeparator:b=".",groupSeparator:E=",",onMouseEnter:y,onMouseLeave:S}=n,T=ee(n,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:ge,direction:fe,className:pe,style:ve}=(0,Q.dj)("statistic"),v=ge("statistic",t),[xe,ye,he]=_(v),Z=m.createElement(X,{decimalSeparator:b,groupSeparator:E,prefixCls:v,formatter:c,precision:x,value:d}),Se=L()(v,{[`${v}-rtl`]:fe==="rtl"},pe,s,e,ye,he),je=(0,U.Z)(T,{aria:!0,data:!0});return xe(m.createElement("div",Object.assign({},je,{className:Se,style:Object.assign(Object.assign({},ve),o),onMouseEnter:y,onMouseLeave:S}),a&&m.createElement("div",{className:`${v}-title`},a),m.createElement(V.Z,{paragraph:!1,loading:p,className:`${v}-skeleton`},m.createElement("div",{style:f,className:`${v}-content`},u&&m.createElement("span",{className:`${v}-content-prefix`},u),l?l(Z):Z,g&&m.createElement("span",{className:`${v}-content-suffix`},g)))))};const te=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function ne(n,t){let s=n;const e=/\[[^\]]*]/g,o=(t.match(e)||[]).map(l=>l.slice(1,-1)),f=t.replace(e,"[]"),d=te.reduce((l,u)=>{let[g,p]=u;if(l.includes(g)){const c=Math.floor(s/p);return s-=c*p,l.replace(new RegExp(`${g}+`,"g"),x=>{const b=x.length;return c.toString().padStart(b,"0")})}return l},f);let a=0;return d.replace(e,()=>{const l=o[a];return a+=1,l})}function ae(n,t){const{format:s=""}=t,e=new Date(n).getTime(),o=Date.now(),f=Math.max(e-o,0);return ne(f,s)}var oe=function(n,t){var s={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.indexOf(e)<0&&(s[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,e=Object.getOwnPropertySymbols(n);o<e.length;o++)t.indexOf(e[o])<0&&Object.prototype.propertyIsEnumerable.call(n,e[o])&&(s[e[o]]=n[e[o]]);return s};const re=1e3/30;function se(n){return new Date(n).getTime()}const ie=n=>{const{value:t,format:s="HH:mm:ss",onChange:e,onFinish:o}=n,f=oe(n,["value","format","onChange","onFinish"]),d=(0,B.Z)(),a=m.useRef(null),l=()=>{o==null||o(),a.current&&(clearInterval(a.current),a.current=null)},u=()=>{const c=se(t);c>=Date.now()&&(a.current=setInterval(()=>{d(),e==null||e(c-Date.now()),c<Date.now()&&l()},re))};m.useEffect(()=>(u(),()=>{a.current&&(clearInterval(a.current),a.current=null)}),[t]);const g=(c,x)=>ae(c,Object.assign(Object.assign({},x),{format:s})),p=c=>(0,H.Tm)(c,{title:void 0});return m.createElement(C,Object.assign({},f,{value:t,valueRender:p,formatter:g}))};var le=m.memo(ie);C.Countdown=le;var w=C,ce=r(96074),N=r(2487),de=r(66309),i=r(85893),O=function(t){var s=t.title,e=t.href,o=t.index,f=t.desc,d=(0,F.useIntl)(),a=I.Z.useToken,l=a(),u=l.token;return(0,i.jsxs)("div",{style:{backgroundColor:u.colorBgContainer,boxShadow:u.boxShadow,borderRadius:"8px",fontSize:"14px",color:u.colorTextSecondary,lineHeight:"22px",padding:"16px 19px",minWidth:"220px",flex:1},children:[(0,i.jsxs)("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:[(0,i.jsx)("div",{style:{width:48,height:48,lineHeight:"22px",backgroundSize:"100%",textAlign:"center",padding:"8px 16px 16px 12px",color:"#FFF",fontWeight:"bold",backgroundImage:"url('https://gw.alipayobjects.com/zos/bmw-prod/daaf8d50-8e6d-4251-905d-676a24ddfa12.svg')"},children:o}),(0,i.jsx)("div",{style:{fontSize:"16px",color:u.colorText,paddingBottom:8},children:s})]}),(0,i.jsx)("div",{style:{fontSize:"14px",color:u.colorTextSecondary,textAlign:"justify",lineHeight:"22px",marginBottom:8},children:f}),(0,i.jsxs)("a",{href:e,target:"_blank",rel:"noreferrer",children:[d.formatMessage({id:"pages.welcome.learnMore"})," ",">"]})]})},ue=function(){var t,s,e=I.Z.useToken(),o=e.token,f=(0,F.useModel)("@@initialState"),d=f.initialState,a=(0,F.useIntl)(),l=(0,m.useState)(),u=D()(l,2),g=u[0],p=u[1],c=(0,m.useState)(),x=D()(c,2),b=x[0],E=x[1];return(0,m.useEffect)(function(){(0,z.rw)().then(function(y){if(y.success&&y.data){p(y.data);var S=Object.keys(y.data.tops).map(function(T){return{ip:T,count:y.data.tops[T]}});E(S)}})},[]),(0,i.jsxs)(P._z,{children:[g&&g.notify&&(0,i.jsx)(k.Z,{description:g.notify,banner:!0,closable:!0,style:{marginBottom:16}}),(0,i.jsx)($.Z,{style:{borderRadius:8},bodyStyle:{backgroundImage:(d==null||(t=d.settings)===null||t===void 0?void 0:t.navTheme)==="realDark"?"background-image: linear-gradient(75deg, #1A1B1F 0%, #191C1F 100%)":"background-image: linear-gradient(75deg, #FBFDFF 0%, #F5F7FF 100%)"},children:(0,i.jsxs)("div",{style:{backgroundPosition:"100% -30%",backgroundRepeat:"no-repeat",backgroundSize:"274px auto",backgroundImage:"url('https://gw.alipayobjects.com/mdn/rms_a9745b/afts/img/A*BuFmQqsB2iAAAAAAAAAAAAAAARQnAQ')"},children:[(0,i.jsxs)("div",{style:{fontSize:"20px",color:o.colorTextHeading},children:[a.formatMessage({id:"pages.welcome.link"})," Midjourney Proxy Admin"]}),(0,i.jsx)("p",{style:{fontSize:"14px",color:o.colorTextSecondary,lineHeight:"22px",marginTop:16,marginBottom:32,width:"65%"},children:a.formatMessage({id:"pages.welcome.description"})}),(0,i.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:16},children:[(0,i.jsx)(O,{index:1,href:"https://github.com/trueai-org/midjourney-proxy",title:a.formatMessage({id:"pages.welcome.learn"})+" Midjourney Proxy",desc:a.formatMessage({id:"pages.welcome.midjourney-proxy"})}),(0,i.jsx)(O,{index:3,title:a.formatMessage({id:"pages.welcome.learn"})+" Swagger Api Doc",href:"/swagger",desc:a.formatMessage({id:"pages.activate.apiDoc"})}),(0,i.jsx)(O,{index:2,title:a.formatMessage({id:"pages.welcome.learn"})+" Midjourney Proxy Web UI",href:"https://github.com/trueai-org/midjourney-proxy-webui",desc:a.formatMessage({id:"pages.welcome.midjourney-proxy-webui"})})]})]})}),g&&(0,i.jsxs)($.Z,{style:{borderRadius:8,marginTop:16},bodyStyle:{backgroundImage:(d==null||(s=d.settings)===null||s===void 0?void 0:s.navTheme)==="realDark"?"background-image: linear-gradient(75deg, #1A1B1F 0%, #191C1F 100%)":"background-image: linear-gradient(75deg, #FBFDFF 0%, #F5F7FF 100%)"},children:[(0,i.jsxs)(R.Z,{gutter:16,children:[(0,i.jsx)(M.Z,{span:8,children:(0,i.jsx)(w,{title:a.formatMessage({id:"pages.welcome.todayDraw"}),value:g.todayDraw})}),(0,i.jsx)(M.Z,{span:8,children:(0,i.jsx)(w,{title:a.formatMessage({id:"pages.welcome.yesterdayDraw"}),value:g.yesterdayDraw})}),(0,i.jsx)(M.Z,{span:8,children:(0,i.jsx)(w,{title:a.formatMessage({id:"pages.welcome.totalDraw"}),value:g.totalDraw})})]}),(0,i.jsx)(ce.Z,{orientation:"left",children:a.formatMessage({id:"pages.welcome.top5"})}),(0,i.jsx)(N.Z,{dataSource:b,renderItem:function(S){return(0,i.jsxs)(N.Z.Item,{children:[(0,i.jsx)(de.Z,{children:S.ip})," ",S.count," ",a.formatMessage({id:"pages.welcome.unit"})]})}})]})]})},me=ue},15746:function(A,h,r){var j=r(21584);h.Z=j.Z},71230:function(A,h,r){var j=r(17621);h.Z=j.Z}}]);
